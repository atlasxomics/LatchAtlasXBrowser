(function(e){function t(t){for(var r,c,u=t[0],l=t[1],s=t[2],p=0,d=[];p<u.length;p++)c=u[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);i&&i(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var i=l;o.push(["cd49","chunk-vendors"]),n()})({"034f":function(e,t,n){"use strict";n("85ec")},3687:function(e,t,n){"use strict";n("43d1")},"43d1":function(e,t,n){},"507d":function(e,t,n){"use strict";n("5a45")},"5a45":function(e,t,n){},"85ec":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),a=n("7591"),o=n.n(a),c=(n("e792"),n("d5e8"),n("5363"),n("a6f4"));r["default"].use(c["b"]);var u=n("8a60"),l=n.n(u),s=l.a.prototype.stopCallback;function i(){l.a.paused=!1,l.a.pause=function(){l.a.paused=!0},l.a.unpause=function(){l.a.paused=!1},l.a.prototype.stopCallback=function(e,t,n){return!!l.a.paused||s(e,t,n)}}i();var p=n("4eb5"),d=n.n(p);r["default"].use(d.a);var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view"),n("global-snackbar"),n("prompt"),n("upload-progress-display")],1)},v=[],b=n("2f62"),m=n("1898"),g=n("1da1"),h=n("5530"),O=(n("96cf"),n("4de4"),n("d3b7"),n("159b"),n("d81d"),n("3ca3"),n("ddb0"),n("ac1f"),n("1276"),n("99af"),n("bc3a")),_=n.n(O),j=n("2ef0"),x=n.n(j),k=function(e){return S(e,y)},w=function(e){return A(e,y)},y=Object(m["b"])({namespaced:!0,state:{inProgress:!1,dialogOpen:!1,uploads:[]},getters:{totalProgress:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t),a=r.state,o=a.uploads.filter((function(e){return!e.cancelled}));return Math.round(o.reduce((function(e,t){return e+t.progress}),0)/o.length)},allSuccessful:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t),a=r.state;return a.uploads.filter((function(e){return!e.error&&!e.cancelled})).length===a.uploads.length}},mutations:{setInProgress:function(e,t){e.inProgress=t},setDialogOpen:function(e,t){e.dialogOpen=t},setUploads:function(e,t){e.uploads=t},setUploadAtIndex:function(e,t){var n=t.upload,a=t.index;r["default"].set(e.uploads,a,n)}},actions:{cancelUpload:function(e,t){var n=k(e),r=n.state,a=n.commit,o=r.uploads[t];o.cancelToken.cancel();var c=Object(h["a"])(Object(h["a"])({},o),{},{cancelled:!0});a.setUploadAtIndex({index:t,upload:c})},cancelAllUploads:function(e){var t=k(e),n=t.state,r=t.dispatch;n.uploads.forEach((function(e,t){r.cancelUpload(t)}))},uploadDatasetFiles:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,l,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=function(e,t){var n=e.loaded/e.total*100,r=a.uploads[t],c=Object(h["a"])(Object(h["a"])({},r),{},{progress:n});o.setUploadAtIndex({upload:c,index:t})},r=k(e),a=r.state,o=r.commit,c=r.rootState.client,null!==c){n.next=4;break}return n.abrupt("return");case 4:return o.setInProgress(!0),l=t.map((function(e,t){return Object(h["a"])(Object(h["a"])({},e),{},{progress:0,error:null,cancelled:!1,finished:!1,cancelToken:_.a.CancelToken.source(),onProgress:function(e){u(e,t)}})})),o.setUploads(l),s=l.map(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.uploadDatasetFile(t);case 2:r=e.sent,u=a.uploads[n],o.setUploadAtIndex({index:n,upload:Object(h["a"])(Object(h["a"])({},u),{},{error:r,finished:!0})});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.next=10,Promise.all(s);case 10:o.setInProgress(!1);case 11:case"end":return n.stop()}}),n)})))()},uploadMetadataFile:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,l,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=function(e,t){var n=e.loaded/e.total*100,r=a.uploads[t],c=Object(h["a"])(Object(h["a"])({},r),{},{progress:n});o.setUploadAtIndex({upload:c,index:t})},r=k(e),a=r.state,o=r.commit,c=r.rootState.client,null!==c){n.next=4;break}return n.abrupt("return");case 4:return o.setInProgress(!0),l=t.map((function(e,t){return Object(h["a"])(Object(h["a"])({},e),{},{progress:0,error:null,cancelled:!1,finished:!1,cancelToken:_.a.CancelToken.source(),onProgress:function(e){u(e,t)}})})),o.setUploads(l),s=l.map(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.uploadMetadataFile(t);case 2:r=e.sent,u=a.uploads[n],o.setUploadAtIndex({index:n,upload:Object(h["a"])(Object(h["a"])({},u),{},{error:r,finished:!0})});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.next=10,Promise.all(s);case 10:o.setInProgress(!1);case 11:case"end":return n.stop()}}),n)})))()},uploadQcDatasetFiles:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,u,l,s,i,p,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=function(e,t){var n=e.loaded/e.total*100,r=a.uploads[t],c=Object(h["a"])(Object(h["a"])({},r),{},{progress:n});o.setUploadAtIndex({upload:c,index:t})},r=k(e),a=r.state,o=r.commit,c=r.rootState.client,null!==c){n.next=4;break}return n.abrupt("return");case 4:return o.setInProgress(!0),l=t.map((function(e,t){return Object(h["a"])(Object(h["a"])({},e),{},{progress:0,error:null,cancelled:!1,finished:!1,cancelToken:_.a.CancelToken.source(),onProgress:function(e){u(e,t)}})})),o.setUploads(l),s=l.map(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.uploadDatasetFile(t);case 2:r=e.sent,u=a.uploads[n],o.setUploadAtIndex({index:n,upload:Object(h["a"])(Object(h["a"])({},u),{},{error:r,finished:!0})});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.next=10,Promise.all(s);case 10:return i=t[0].output_filename.split("/")[0],p=j["uniq"](t.map((function(e){return e.output_filename.split("/")[1]}))),d=p.map((function(e){var t="".concat(i,"/").concat(e),n={params:{qc_dir:t}},r=c.generateQcEntry(n);return r})),n.next=15,Promise.all(d).then((function(e){j["each"](e,(function(e){}))}));case 15:o.setInProgress(!1);case 16:case"end":return n.stop()}}),n)})))()},resetUploadState:function(e){var t=k(e),n=t.commit;n.setInProgress(!1),n.setUploads([])}}}),P=y;r["default"].use(b["a"]);var U=Object(m["a"])({state:{client:null,currentComponent:{component:null},serverStatus:null,subMenu:null,xploreData:null},getters:{},mutations:{setClient:function(e,t){e.client=t},setComponent:function(e,t){e.currentComponent=t},setServerStatus:function(e,t){e.serverStatus=t},setSubmenu:function(e,t){e.subMenu=t},setXploreData:function(e,t){e.xploreData=t}},actions:{},modules:{upload:P}}),C=U.store,S=(U.rootActionContext,U.moduleActionContext),A=(U.rootGetterContext,U.moduleGetterContext),D=C,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",e._b({attrs:{timeout:e.timeout},scopedSlots:e._u([e.buttonExists?{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{text:"",icon:!!e.buttonIcon},on:{click:e.buttonClicked}},"v-btn",r,!1),[e.buttonIcon?n("v-icon",[e._v(" "+e._s(e.buttonIcon)+" ")]):n("span",[e._v(" "+e._s(e.button)+" ")])],1)]}}:null],null,!0),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},"v-snackbar",e.options,!1),[e._v(" "+e._s(e.text)+" "),e.buttonExists?n("v-spacer"):e._e()],1)},T=[],E=Object(c["d"])(!1),R=Object(c["d"])(""),M="",F=Object(c["d"])(M),$="",N=Object(c["d"])($),z=null,G=Object(c["d"])(z),V=2e3,q=Object(c["d"])(V),B={color:"secondary"},L=Object(c["d"])(B);function J(e){R.value=e.text,F.value=e.button||M,N.value=e.buttonIcon||$,G.value=e.callback||z,q.value=e.timeout||V,L.value=Object(h["a"])(Object(h["a"])({},B),e.options),E.value=!0}Object(c["e"])(E,(function(e){!1===e&&setTimeout((function(){L.value=B}),150)}));var Q=Object(c["c"])({name:"Snackbar",setup:function(){var e=Object(c["a"])((function(){return F.value||N.value}));function t(){null!==G.value&&G.value(),E.value=!1}return{show:E,text:R,button:F,buttonIcon:N,buttonExists:e,callback:G,timeout:q,options:L,buttonClicked:t}}}),X=Q,H=n("2877"),K=Object(H["a"])(X,I,T,!1,null,null,null),W=K.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"400"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickNegative.apply(null,arguments)},input:function(t){return t||e.clickNegative()}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[e.title?n("v-toolbar-title",{staticClass:"title pa-4"},[e._v(" "+e._s(e.title)+" ")]):e._e(),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pl-4"},[e._v(" "+e._s(e.message)+" ")]),n("v-card-actions",[n("v-spacer"),e.negativeText?n("v-btn",{attrs:{text:""},on:{click:e.clickNegative}},[e._v(" "+e._s(e.negativeText)+" ")]):e._e(),e.positiveText?n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.clickPositive}},[e._v(" "+e._s(e.positiveText)+" ")]):e._e()],1)],1)],1)},Z=[],ee="",te="",ne=null,re="",ae="",oe=Object(c["d"])(!1),ce=Object(c["d"])(ee),ue=Object(c["d"])(te),le=Object(c["d"])(ne),se=Object(c["d"])(re),ie=Object(c["d"])(ae);var pe=Object(c["c"])({name:"Prompt",setup:function(){function e(){le.value&&le.value(!0),oe.value=!1}function t(){le.value&&le.value(!1),oe.value=!1}return{show:oe,title:ce,message:ue,positiveText:se,negativeText:ie,clickPositive:e,clickNegative:t}}}),de=pe,fe=Object(H["a"])(de,Y,Z,!1,null,null,null),ve=fe.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dialogOpen?n("v-card",{staticClass:"progress-card mr-5 mb-5",attrs:{"min-width":"20vw"}},[n("v-card-title",[e.inProgress?e._e():[e.allSuccessful?n("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-check ")]):n("v-icon",{attrs:{left:"",color:"warning"}},[e._v(" mdi-alert-circle ")])],e.inProgress?n("span",[e._v(" Uploading "+e._s(e.uploads.length)+" Files ")]):n("span",[e._v(" Uploads Finished ")]),n("v-spacer"),e.minimized?n("v-btn",{attrs:{icon:""},on:{click:function(t){e.minimized=!1}}},[n("v-icon",[e._v("mdi-chevron-up")])],1):n("v-btn",{attrs:{icon:""},on:{click:function(t){e.minimized=!0}}},[n("v-icon",[e._v("mdi-chevron-down")])],1),n("v-btn",{attrs:{icon:""},on:{click:e.handleClickClose}},[n("v-icon",[e._v("mdi-close")])],1),n("v-dialog",{attrs:{width:"30vw"},model:{value:e.closeDialogDialog,callback:function(t){e.closeDialogDialog=t},expression:"closeDialogDialog"}},[n("v-card",[n("v-card-title",[e._v("Cancel Uploads?")]),n("v-card-subtitle",[e._v(" Are you sure you want to cancel all uploads? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:e.cancelAllUploads}},[e._v(" Cancel Uploads ")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.closeDialogDialog=!1}}},[e._v(" Continue ")])],1)],1)],1)],2),e.inProgress?n("v-progress-linear",{attrs:{value:e.totalProgress}}):e._e(),e.minimized?e._e():n("v-card-text",{staticClass:"pa-0"},[n("v-list",{attrs:{dense:""}},e._l(e.uploads,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-avatar",[n("v-icon",[e._v("mdi-folder-upload")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.file.name)+" ")]),t.error?n("v-list-item-subtitle",{staticClass:"red--text"},[e._v(" "+e._s(t.error)+" ")]):e._e()],1),n("v-list-item-action",[t.cancelled?n("v-icon",{attrs:{color:"error"}},[e._v(" mdi-cancel ")]):t.error?n("v-icon",{attrs:{color:"error"}},[e._v(" mdi-close ")]):n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var o=a.hover;return[o&&!t.finished?n("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.cancelUpload(r)}}},[n("v-icon",[e._v("mdi-close")])],1):t.finished?n("v-icon",{attrs:{color:"success"}},[e._v(" mdi-check ")]):n("v-progress-circular",{attrs:{color:"primary",width:"2",size:"24",value:50}})]}}],null,!0)})],1)],1)})),1)],1)],1):e._e()},me=[],ge={dispatch:J},he=Object(c["c"])({name:"UploadProgressDisplay",setup:function(){var e=Object(c["a"])((function(){return D.state.upload.uploads})),t=Object(c["a"])((function(){return D.getters.upload.allSuccessful})),n=Object(c["a"])((function(){return D.state.upload.inProgress})),r=Object(c["a"])((function(){return D.state.upload.dialogOpen})),a=Object(c["a"])((function(){return D.getters.upload.totalProgress})),o=Object(c["d"])(!0),u=Object(c["d"])(!1);function l(){D.commit.upload.setDialogOpen(!1),u.value=!1}function s(e){D.dispatch.upload.cancelUpload(e)}function i(){return p.apply(this,arguments)}function p(){return p=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.dispatch.upload.cancelAllUploads();case 2:ge.dispatch({text:"Uploads Cancelled."}),l();case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(){n.value?u.value=!0:l()}return{uploads:e,allSuccessful:t,inProgress:n,totalProgress:a,dialogOpen:r,closeDialog:l,closeDialogDialog:u,handleClickClose:d,cancelUpload:s,cancelAllUploads:i,minimized:o}}}),Oe=he,_e=(n("507d"),Object(H["a"])(Oe,be,me,!1,null,"6e5fe924",null)),je=_e.exports,xe=Object(c["c"])({name:"App",components:{GlobalSnackbar:W,Prompt:ve,UploadProgressDisplay:je},setup:function(e,t){Object(c["a"])((function(){return D.state.client}))}}),ke=xe,we=(n("034f"),Object(H["a"])(ke,f,v,!1,null,null,null)),ye=we.exports,Pe=n("8c4f"),Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("appbar",{staticClass:"appbar"})],1)},Ce=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:"",dense:""}},[e._l(e.subMenu,(function(t){return n("v-tooltip",{key:t.text,attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var a=r.on,o=r.attrs;return[t.type?e._e():[n("v-btn",e._g(e._b({class:t.enabled?"visible":"hidden",attrs:{id:t.ref?t.ref:"",text:"",icon:!!t.icon},on:{click:t.click}},"v-btn",o,!1),a),[t.icon?[n("v-icon",{attrs:{color:t.color}},[e._v(e._s(t.icon))])]:e._e(),t.icon?e._e():[e._v(" "+e._s(t.text)+" ")]],2)],"component"==t.type?[n("div",{attrs:{id:t.id}})]:e._e()]}}],null,!0)},[n("span",{key:t.text+"-span"},[e._v(e._s(t.tooltip))])])})),n("v-spacer"),[n("v-menu",{attrs:{"offset-y":""},model:{value:e.userMenu,callback:function(t){e.userMenu=t},expression:"userMenu"}})]],2)},Ae=[],De=n("2340"),Ie=n("fcf4"),Te=(n("e9c4"),n("caad"),n("2532"),n("a78e")),Ee=n.n(Te),Re=(n("466d"),Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SERVER_URL,"atxLogin"),Me=window.location.href,Fe=Me.match(/https:.+\.custom\.pods\.latch\.bio/i);"".concat(Fe),n("d4ec"),n("bee2"),n("25f0"),n("b0c0"),n("d9e2"),n("a9e3");var $e=Object(c["a"])((function(){return D.state.client})),Ne=Object(c["a"])((function(){return null!==$e.value})),ze=Object(c["a"])((function(){var e;return(null===(e=$e.value)||void 0===e?void 0:e.user)||null}));Object(c["a"])((function(){return null!==ze.value}));function Ge(){var e;Ee.a.remove(Re),window.clearTimeout(null===(e=D.state.client)||void 0===e?void 0:e.refreshTimeoutId),D.commit.setClient(null)}function Ve(e){if(!$e.value)return!1;if(!$e.value.user)return!1;if("any"===e[0]&&$e.value.user.groups.length>0)return!0;var t=!1;return x.a.each($e.value.user.groups,(function(n){e.includes(n)&&(t=!0)})),t}var qe={"--bar-button-hover-bkg":Ie["a"].grey.lighten2,"--bar-button-open-color":Ie["a"].grey.darken3,"--bar-button-open-bkg":Ie["a"].grey.lighten2,"--bar-menu-item-hover-bkg":Ie["a"].grey.lighten2},Be=Object(c["c"])({name:"Appbar",props:["submenu"],components:{VueFileToolbarMenu:De["a"]},setup:function(e,t){t.root.$router;var n=Object(c["a"])((function(){return qe})),r=Object(c["a"])((function(){return D.state.currentComponent})),a=Object(c["d"])(!1),o=Object(c["d"])(!1),u=Object(c["a"])((function(){return e.submenu}));return{filemenuStyle:n,loggedIn:Ne,logout:Ge,userMenu:a,changePasswordMenu:o,subMenu:u,component:r,resolveAuthGroup:Ve}}}),Le=Be,Je=(n("f5dd"),Object(H["a"])(Le,Se,Ae,!1,null,null,null)),Qe=Je.exports,Xe=Object(c["c"])({name:"AtlasBrowser",props:["query"],components:{Appbar:Qe}}),He=Xe,Ke=(n("3687"),Object(H["a"])(He,Ue,Ce,!1,null,"03bf024b",null)),We=Ke.exports;r["default"].use(Pe["a"]);var Ye=[{path:"/",name:"AtlasBrowser",component:We}],Ze=new Pe["a"]({routes:Ye,mode:"history"}),et=Ze,tt=n("ce5b"),nt=n.n(tt);n("bf40");r["default"].use(nt.a);var rt=new nt.a;r["default"].use(o.a),r["default"].config.productionTip=!1,new r["default"]({router:et,store:D.original,vuetify:rt,provide:{vuetify:rt},render:function(e){return e(ye)}}).$mount("#app")},db89:function(e,t,n){},f5dd:function(e,t,n){"use strict";n("db89")}});
//# sourceMappingURL=app.ca604ef8.js.map